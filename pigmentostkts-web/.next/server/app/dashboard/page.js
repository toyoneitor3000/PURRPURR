(()=>{var e={};e.id=702,e.ids=[702],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},6144:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.ZP,__next_app__:()=>m,originalPathname:()=>c,pages:()=>l,routeModule:()=>x,tree:()=>d});var r=s(482),a=s(9108),i=s(3543),n=s(8300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);s.d(t,o);let d=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,5434)),"/home/user/PURRPURR/pigmentostkts-web/src/app/dashboard/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,9644)),"/home/user/PURRPURR/pigmentostkts-web/src/app/layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,2793)),"/home/user/PURRPURR/pigmentostkts-web/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,8206)),"/home/user/PURRPURR/pigmentostkts-web/src/app/not-found.tsx"]}],l=["/home/user/PURRPURR/pigmentostkts-web/src/app/dashboard/page.tsx"],c="/dashboard/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},113:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,1476,23)),Promise.resolve().then(s.bind(s,6010))},6010:(e,t,s)=>{"use strict";s.r(t),s.d(t,{OrderHistory:()=>n});var r=s(5344),a=s(1453),i=s(7292);function n({orders:e}){return 0===e.length?(0,r.jsxs)("div",{className:"p-12 text-center",children:[r.jsx("div",{className:"mx-auto h-12 w-12 text-gray-400 mb-4",children:"\uD83D\uDECD️"}),r.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"No hay pedidos a\xfan"}),r.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"\xa1Es hora de comprar algunos stickers incre\xedbles!"})]}):r.jsx("div",{className:"divide-y divide-gray-100",children:e.map((e,t)=>(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*t},className:"p-6 hover:bg-gray-50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between mb-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-sm text-gray-500",children:["Pedido #",e.id.slice(-6).toUpperCase()]}),r.jsx("p",{className:"text-xs text-gray-400",children:new Date(e.createdAt).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"})})]}),(0,r.jsxs)("div",{className:"mt-2 sm:mt-0 text-right",children:[r.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${"COMPLETED"===e.status?"bg-green-100 text-green-800":"PENDING"===e.status?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"}`,children:"COMPLETED"===e.status?"Entregado":"PENDING"===e.status?"Procesando":e.status}),r.jsx("p",{className:"text-lg font-bold text-brand-black mt-1",children:(0,a.T)(e.amount)})]})]}),r.jsx("div",{className:"space-y-3",children:e.items.map(e=>(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:"h-12 w-12 rounded-md bg-gray-100 overflow-hidden relative",children:r.jsx("img",{src:e.product.image,alt:e.product.name,className:"object-cover w-full h-full"})}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("h4",{className:"text-sm font-medium text-gray-900",children:e.product.name}),(0,r.jsxs)("p",{className:"text-xs text-gray-500",children:["Cant: ",e.quantity]})]}),r.jsx("p",{className:"text-sm font-medium text-gray-900",children:(0,a.T)(e.price)})]},e.id))})]},e.id))})}},5434:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>p});var r=s(5036),a=s(1147),i=s(867);let n=require("@prisma/client"),o=global.prisma||new n.PrismaClient;var d=s(6843);let l=(0,d.createProxy)(String.raw`/home/user/PURRPURR/pigmentostkts-web/src/components/dashboard/OrderHistory.tsx`),{__esModule:c,$$typeof:m}=l;l.default;let x=(0,d.createProxy)(String.raw`/home/user/PURRPURR/pigmentostkts-web/src/components/dashboard/OrderHistory.tsx#OrderHistory`);var u=s(6274);async function p(){let e=await (0,a.I8)();e?.user?.email||(0,i.redirect)("/api/auth/signin");let t=await o.order.findMany({where:{user:{email:e.user.email}},include:{items:{include:{product:!0}}},orderBy:{createdAt:"desc"}});return r.jsx("div",{className:"min-h-screen bg-brand-gray pt-24 pb-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-brand-black tracking-tight",children:"Mi Cuenta"}),(0,r.jsxs)("p",{className:"text-gray-600 mt-1",children:["Bienvenido de vuelta, ",e.user.name||"Usuario"]})]}),r.jsx(u.default,{href:"/",className:"text-sm font-medium text-brand-black hover:text-brand-yellow transition-colors",children:"← Volver a la tienda"})]}),(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsx("h2",{className:"text-xl font-semibold text-brand-black",children:"Historial de Pedidos"})}),r.jsx(x,{orders:t})]})]})})}},1147:(e,t,s)=>{"use strict";s.d(t,{I8:()=>l,handlers:()=>n});var r=s(5718),a=s(7579),i=s(3764);let{handlers:n,signIn:o,signOut:d,auth:l}=(0,r.ZP)({providers:[a.Z,i.Z],pages:{signIn:"/auth/signin"},callbacks:{authorized:({auth:e,request:{nextUrl:t}})=>(e?.user,t.pathname.startsWith("/checkout"),!0)}})}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[377,328,867,254,281],()=>s(6144));module.exports=r})();